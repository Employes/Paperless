@mixin inputDefaultState {
    @apply flex justify-start items-center h-10;
    @apply text-storm-dark;
    @apply bg-white px-4 w-full;
    @apply rounded-large;
    @apply border border-mystic-dark #{!important};
    @apply outline-none #{!important};

    &::placeholder {
        @apply text-storm-medium;
    }

    &:focus,
    &:focus-visible,
    &.focus {
        @include inputFocusState();
    }
}

@mixin inputFocusState {
    @apply border-indigo #{!important};
}

@mixin inputErrorState {
    @apply text-negative-dark;
    @apply border-negative #{!important};

    &::placeholder {
        @apply text-negative-light;
    }
}

@mixin inputDisabledState {
    @apply opacity-40;
}

input[type='text'],
input[type='number'],
input[type='date'],
input[type='month'],
input[type='datetime-local'],
input[type='time'],
input[type='tel'],
input[type='password'],
input[type='email'],
textarea {
    @include inputDefaultState();

    &[error],
    &.error {
        @include inputErrorState();
    }

    &[disabled],
    &:disabled,
    &.disabled {
        @include inputDisabledState();
    }

    &.clean {
        &::-webkit-calendar-picker-indicator {
            display: none;
        }
    }
}

textarea {
    @apply h-auto;
}

.input-group {
    @apply flex flex-col w-full;

    .input-label {
        @apply text-xs text-storm-vague font-semibold uppercase tracking-wider;
    }

    .input-header {
        @apply flex gap-4;
    }

    .content {
        @apply flex;

        .prefix,
        .suffix {
            @include inputDefaultState();
            @apply flex-1;
            @apply text-storm;
        }

        .prefix {
            @apply rounded-tr-none rounded-br-none;
            @apply border-r-0 #{!important};
            @apply order-1;
            @apply pr-2;
        }

        .suffix {
            @apply rounded-tl-none rounded-bl-none;
            @apply border-l-0 #{!important};
            @apply order-3;
            @apply pl-2;
        }

        input[type='text'],
        input[type='number'],
        input[type='date'],
        input[type='month'],
        input[type='datetime-local'],
        input[type='time'],
        input[type='tel'],
        input[type='password'],
        input[type='email'] {
            @apply order-2;
        }

        .prefix + input[type='text'],
        .prefix + input[type='number'],
        .prefix + input[type='date'],
        .prefix + input[type='month'],
        .prefix + input[type='datetime-local'],
        .prefix + input[type='time'],
        .prefix + input[type='tel'],
        .prefix + input[type='password'],
        .prefix + input[type='email'] {
            @apply rounded-tl-none rounded-bl-none;
            @apply flex-auto;
            @apply border-l-0 pl-0 #{!important};
        }

        .suffix + input[type='text'],
        .suffix + input[type='number'],
        .suffix + input[type='date'],
        .suffix + input[type='month'],
        .suffix + input[type='datetime-local'],
        .suffix + input[type='time'],
        .suffix + input[type='tel'],
        .suffix + input[type='password'],
        .suffix + input[type='email'] {
            @apply rounded-tr-none rounded-br-none;
            @apply flex-auto;
            @apply border-r-0 pr-0 #{!important};
        }
    }

    &.error,
    &[error] {
        input[type='text'],
        input[type='number'],
        input[type='date'],
        input[type='month'],
        input[type='datetime-local'],
        input[type='time'],
        input[type='tel'],
        input[type='password'],
        input[type='email'] {
            @include inputErrorState();
            @apply text-negative;
        }

        .prefix,
        .suffix {
            @include inputErrorState();
            @apply text-negative;
        }
    }

    &.focus,
    &:focus-within {
        .prefix,
        .suffix {
            @include inputFocusState();
            @apply text-indigo;
        }
    }
}
